{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SACA,MAAMC,EAASC,SAASC,cAAc,UAChCC,EAAU,IAAIC,MAAMC,OAAOL,GACjC,SAASM,IACP,IAAIC,EAAiB,EACrB,IACEA,EAAiBC,KAAKC,MACpBC,aAAaC,QAAQ,4B,CAEvB,MAAOC,GACPL,EAAiB,C,CAEnB,OAAOA,C,CAUTJ,EAAQU,eAAeP,KACvBH,EAAQW,GACN,aACAhB,EAAAiB,UAAW,KATXZ,EAAQa,iBAAiBC,MAAK,SAAUC,GACtC,IAAIC,EAAOD,GAAoBZ,IAC/BI,aAAaU,QAAQ,2BAA4B,GAAGD,I,GAQlC,IAEpB","sources":["src/js/02-video.js"],"sourcesContent":["var _ = require('lodash');\nconst iframe = document.querySelector('iframe');\nconst vPlayer = new Vimeo.Player(iframe);\nfunction loadTime() {\n  let parsedSettings = 0;\n  try {\n    parsedSettings = JSON.parse(\n      localStorage.getItem('videoplayer-current-time')\n    );\n  } catch (error) {\n    parsedSettings = 0;\n  }\n  return parsedSettings;\n}\nfunction saveViewProgress(e = null) {\n  //   if (e) e.preventDefault();\n  vPlayer.getCurrentTime().then(function (seconds) {\n    let time = seconds ? seconds : loadTime();\n    localStorage.setItem('videoplayer-current-time', `${time}`);\n  });\n  return 'Saved video progress. Exiting page.';\n}\nvPlayer.setCurrentTime(loadTime());\nvPlayer.on(\n  'timeupdate',\n  _.throttle(() => {\n    saveViewProgress(); // console.log('throttled..');\n  }),\n  1000\n);\n\n// window.onbeforeunload = e => saveViewProgress(e);\n// vPlayer.on('pause', function () {\n//   saveViewProgress();\n// });\n// vPlayer.on('play', function () {\n// });\n// vPlayer.getVideoTitle().then(function (title) {\n//   console.log('title:', title);\n// });\n"],"names":["$kEUo3","parcelRequire","$c006019e0678fe87$var$iframe","document","querySelector","$c006019e0678fe87$var$vPlayer","Vimeo","Player","$c006019e0678fe87$var$loadTime","parsedSettings","JSON","parse","localStorage","getItem","error","setCurrentTime","on","throttle","getCurrentTime","then","seconds","time","setItem"],"version":3,"file":"02-video.7f4c8215.js.map"}