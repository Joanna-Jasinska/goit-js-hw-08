{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SACA,MAAMC,EAASC,SAASC,cAAc,UAChCC,EAAU,IAAIC,MAAMC,OAAOL,GACjC,SAASM,IACP,IAAIC,EAAiBC,KAAKC,MACxBC,aAAaC,QAAQ,6BAEvB,OAAOJ,GAAkC,C,CAW3CJ,EAAQS,eAAeN,KACvBH,EAAQU,GACN,aACAf,EAAAgB,UAAW,KATXX,EAAQY,iBAAiBC,MAAK,SAAUC,GACtC,IAAIC,EAAOD,GAAoBX,IAC/BI,aAAaS,QAAQ,2BAA4B,GAAGD,I,IAE/C,wCAK8B","sources":["src/js/02-video.js"],"sourcesContent":["const _ = require('lodash');\nconst iframe = document.querySelector('iframe');\nconst vPlayer = new Vimeo.Player(iframe);\nfunction loadTime() {\n  let parsedSettings = JSON.parse(\n    localStorage.getItem('videoplayer-current-time')\n  );\n  return parsedSettings ? parsedSettings : 0;\n}\nfunction saveViewProgress() {\n  //e = null) {\n  //   if (e) e.preventDefault(); console.log('throttled save..');\n  vPlayer.getCurrentTime().then(function (seconds) {\n    let time = seconds ? seconds : loadTime();\n    localStorage.setItem('videoplayer-current-time', `${time}`);\n  });\n  return 'Saved video progress. Exiting page.';\n}\nvPlayer.setCurrentTime(loadTime());\nvPlayer.on(\n  'timeupdate',\n  _.throttle(() => saveViewProgress(), 1000)\n);\n\n// localStorage.clear();\n// vPlayer.on(\n//   'timeupdate',\n//   _.throttle(() => {\n//     saveViewProgress(); // console.log('throttled..');\n//   }),\n//   1000\n// );\n\n// window.onbeforeunload = e => saveViewProgress(e);\n// vPlayer.on('pause', function () {\n//   saveViewProgress();\n// });\n// vPlayer.on('play', function () {\n// });\n// vPlayer.getVideoTitle().then(function (title) {\n//   console.log('title:', title);\n// });\n"],"names":["$kEUo3","parcelRequire","$c006019e0678fe87$var$iframe","document","querySelector","$c006019e0678fe87$var$vPlayer","Vimeo","Player","$c006019e0678fe87$var$loadTime","parsedSettings","JSON","parse","localStorage","getItem","setCurrentTime","on","throttle","getCurrentTime","then","seconds","time","setItem"],"version":3,"file":"02-video.41bee9c1.js.map"}