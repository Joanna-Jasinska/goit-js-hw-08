{"mappings":"gfACA,IAAAA,EAAAC,EAAA,SACMC,EAASC,SAASC,cAAc,UAChCC,EAAU,IAAIC,MAAMC,OAAOL,GACjC,SAASM,IACP,IAAIC,EAAiBC,KAAKC,MACxBC,aAAaC,QAAQ,6BAEvB,OAAOJ,GAAkC,C,CAW3CJ,EAAQS,eAAeN,KACvBH,EAAQU,GACN,aACAf,EAAAgB,EAAEC,UAAS,W,OATXZ,EAAQa,iBAAiBC,MAAK,SAAUC,GACtC,IAAIC,EAAOD,GAAoBZ,IAC/BI,aAAaU,QAAQ,2BAA4B,GAAQC,OAALF,G,IAE/C,qC,GAK8B,K","sources":["src/js/02-video.js"],"sourcesContent":["// const _ = require('lodash');\nimport { _ } from 'lodash';\nconst iframe = document.querySelector('iframe');\nconst vPlayer = new Vimeo.Player(iframe);\nfunction loadTime() {\n  let parsedSettings = JSON.parse(\n    localStorage.getItem('videoplayer-current-time')\n  );\n  return parsedSettings ? parsedSettings : 0;\n}\nfunction saveViewProgress() {\n  //e = null) {\n  //   if (e) e.preventDefault(); console.log('throttled save..');\n  vPlayer.getCurrentTime().then(function (seconds) {\n    let time = seconds ? seconds : loadTime();\n    localStorage.setItem('videoplayer-current-time', `${time}`);\n  });\n  return 'Saved video progress. Exiting page.';\n}\nvPlayer.setCurrentTime(loadTime());\nvPlayer.on(\n  'timeupdate',\n  _.throttle(() => saveViewProgress(), 1000)\n);\n\n// localStorage.clear();\n// vPlayer.on(\n//   'timeupdate',\n//   _.throttle(() => {\n//     saveViewProgress(); // console.log('throttled..');\n//   }),\n//   1000\n// );\n\n// window.onbeforeunload = e => saveViewProgress(e);\n// vPlayer.on('pause', function () {\n//   saveViewProgress();\n// });\n// vPlayer.on('play', function () {\n// });\n// vPlayer.getVideoTitle().then(function (title) {\n//   console.log('title:', title);\n// });\n"],"names":["$1WSnx","parcelRequire","$5a94271ad32ea534$var$iframe","document","querySelector","$5a94271ad32ea534$var$vPlayer","Vimeo","Player","$5a94271ad32ea534$var$loadTime","parsedSettings","JSON","parse","localStorage","getItem","setCurrentTime","on","_","throttle","getCurrentTime","then","seconds","time","setItem","concat"],"version":3,"file":"02-video.46a6250e.js.map"}